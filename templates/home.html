<!DOCTYPE html>

{% extends "index.html" %} {% block head %} {{ super() }}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/home.css') }}"
/>
{% endblock %} {% block content %}
<!-- NavBar -->
<nav
  class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm sticky-top"
>
  <div class="container-fluid px-4">
    <!-- Logo-->
    <a
      class="navbar-brand d-flex align-items-center"
      href="{{ url_for('home.home') }}"
    >
      <div class="landing-logo">
        <span class="logo-icon">ðŸ“¸</span>
        <span class="logo-text">PhotoInventory</span>
      </div>
    </a>

    <!-- User profile and logout-->
    <div class="d-flex align-items-center">
      <div class="user-profile d-flex align-items-center me-4">
        {% if current_user.profile_picture %}
        <img
          src="{{ current_user.profile_picture }}"
          alt="Profile"
          class="user-avatar rounded-circle me-2"
          height="45"
          width="45"
        />
        {% else %}
        <div
          class="user-avatar-placeholder rounded-circle d-flex align-items-center justify-content-center me-2"
        >
          {{ current_user.first_name[0]|upper }}
        </div>
        {% endif %}
        <div class="d-flex flex-column align-items-start">
          <span class="fw-semibold text-dark"
            >{{ current_user.first_name }}</span
          >
          <small class="text-muted">{{ current_user.role.value|title }}</small>
        </div>
      </div>
      <button id="logoutButton" class="btn btn-outline-dark btn-sm">
        <i class="fas fa-sign-out-alt me-1"></i>Log Out
      </button>
    </div>
  </div>
</nav>

<!-- Breadcrumb Navigation -->
<nav aria-label="breadcrumb" class="bg-light border-bottom">
  <div class="container py-2">
    <div class="d-flex justify-content-between align-items-center">
      <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item active" aria-current="page">
          <i class="fas fa-home me-1"></i>Home
        </li>
      </ol>
      <div class="breadcrumb-nav">
        <a
          href="{{ url_for('home.lab_equipment') }}"
          class="btn btn-sm btn-outline-secondary me-2"
        >
          <i class="fas fa-microscope me-1"></i>Lab Equipment
        </a>
        <a
          href="{{ url_for('home.camera_gear') }}"
          class="btn btn-sm btn-outline-secondary me-2"
        >
          <i class="fas fa-camera me-1"></i>Camera Gear
        </a>
        <a
          href="{{ url_for('home.consumables') }}"
          class="btn btn-sm btn-outline-secondary"
        >
          <i class="fas fa-flask me-1"></i>Consumables
        </a>
        {% if current_user.role.value == 'admin' %}
        <a
          href="{{ url_for('admin.dashboard') }}"
          class="btn btn-sm btn-outline-secondary"
        >
          <i class="fas fa-user-shield me-1"></i>Admin
        </a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>

<!-- Summary Statistics Cards -->
<div class="container py-4">
  <div class="row g-3 mb-4">
    <div class="col-md-3 col-sm-6">
      <div class="stat-card">
        <div class="stat-card-body">
          <h3 class="stat-card-title">Total Equipment</h3>
          <p class="stat-card-value" id="stat-total">{{ total_items }} Items</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6">
      <div class="stat-card stat-card-success">
        <div class="stat-card-body">
          <h3 class="stat-card-title">In Stock</h3>
          <p class="stat-card-value" id="stat-in-stock">
            {{ in_stock_count }} Items
          </p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6">
      <div class="stat-card stat-card-warning">
        <div class="stat-card-body">
          <h3 class="stat-card-title">Out of Stock</h3>
          <p class="stat-card-value" id="stat-out-of-stock">
            {{ out_of_stock_count }} Items
          </p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-6">
      <div class="stat-card stat-card-danger">
        <div class="stat-card-body">
          <h3 class="stat-card-title">Expired</h3>
          <p class="stat-card-value" id="stat-expired">
            {{ expired_count }} Items
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/static/js/home.js"></script>
{% endblock %}
